{
  "version": 4,
  "terraform_version": "1.2.6",
  "serial": 255,
  "lineage": "35ddefb8-8d4b-05b9-7f67-f008cde51c7c",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "aws_api_gateway_method",
      "name": "MyDemoMethod",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_key_required": false,
            "authorization": "NONE",
            "authorization_scopes": null,
            "authorizer_id": null,
            "http_method": "POST",
            "id": "agm-ujnhg6weeb-5avuc2-POST",
            "operation_name": null,
            "request_models": {
              "application/json": "PayloadValidator"
            },
            "request_parameters": {
              "method.request.path.proxy": false,
              "method.request.querystring.unity": false
            },
            "request_validator_id": "dglib8",
            "resource_id": "5avuc2",
            "rest_api_id": "ujnhg6weeb"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_api_gateway_model.demo-method",
            "aws_api_gateway_request_validator.demo-validator",
            "aws_api_gateway_resource.MyDemoResource",
            "aws_api_gateway_rest_api.MyDemoAPI"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_api_gateway_model",
      "name": "demo-method",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "content_type": "application/json",
            "description": "validate the json body content conforms to the below spec",
            "id": "v2rmxk",
            "name": "PayloadValidator",
            "rest_api_id": "ujnhg6weeb",
            "schema": "{\"$schema\":\"http://json-schema.org/draft-04/schema#\",\"properties\":{\"docs\":{\"items\":{\"type\":\"object\"},\"minItems\":1,\"type\":\"array\"},\"id\":{\"type\":\"string\"}},\"required\":[\"id\",\"docs\"],\"type\":\"object\"}"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_api_gateway_rest_api.MyDemoAPI"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_api_gateway_request_validator",
      "name": "demo-validator",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "dglib8",
            "name": "payload-validator",
            "rest_api_id": "ujnhg6weeb",
            "validate_request_body": false,
            "validate_request_parameters": false
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_api_gateway_rest_api.MyDemoAPI"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_api_gateway_resource",
      "name": "MyDemoResource",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "5avuc2",
            "parent_id": "fw48i8z9w0",
            "path": "/mydemoresource",
            "path_part": "mydemoresource",
            "rest_api_id": "ujnhg6weeb"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_api_gateway_rest_api.MyDemoAPI"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_api_gateway_rest_api",
      "name": "MyDemoAPI",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "api_key_source": "HEADER",
            "arn": "arn:aws:apigateway:ap-south-1::/restapis/ujnhg6weeb",
            "binary_media_types": [],
            "body": null,
            "created_date": "2022-08-18T09:35:06Z",
            "description": "POST records to SQS queue",
            "disable_execute_api_endpoint": false,
            "endpoint_configuration": [
              {
                "types": [
                  "EDGE"
                ],
                "vpc_endpoint_ids": []
              }
            ],
            "execution_arn": "arn:aws:execute-api:ap-south-1:397133503208:ujnhg6weeb",
            "id": "ujnhg6weeb",
            "minimum_compression_size": -1,
            "name": "my-sqs-api",
            "parameters": null,
            "policy": "",
            "put_rest_api_mode": null,
            "root_resource_id": "fw48i8z9w0",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_policy",
      "name": "APIGWPolicy",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::397133503208:policy/SQS_policy",
            "description": "",
            "id": "arn:aws:iam::397133503208:policy/SQS_policy",
            "name": "SQS_policy",
            "name_prefix": null,
            "path": "/",
            "policy": "{\"Statement\":[{\"Action\":[\"sqs:*\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:ap-south-1:397133503208:api-sqs\"}],\"Version\":\"2012-10-17\"}",
            "policy_id": "ANPAVY5YALLUCWNCDSACN",
            "tags": null,
            "tags_all": {}
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_sqs_queue.MySQSqueue"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "APIGWRole",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:iam::397133503208:role/APISQS",
            "assume_role_policy": "{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"apigateway.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}",
            "create_date": "2022-08-18T09:35:07Z",
            "description": "",
            "force_detach_policies": false,
            "id": "APISQS",
            "inline_policy": [],
            "managed_policy_arns": [],
            "max_session_duration": 3600,
            "name": "APISQS",
            "name_prefix": "",
            "path": "/",
            "permissions_boundary": null,
            "tags": null,
            "tags_all": {},
            "unique_id": "AROAVY5YALLUMLLTQ6DBF"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_iam_role_policy_attachment",
      "name": "APIGWPolicyAttachment",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "id": "APISQS-20220818093532545000000001",
            "policy_arn": "arn:aws:iam::397133503208:policy/SQS_policy",
            "role": "APISQS"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "aws_iam_policy.APIGWPolicy",
            "aws_iam_role.APIGWRole",
            "aws_sqs_queue.MySQSqueue"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "aws_sqs_queue",
      "name": "MySQSqueue",
      "provider": "provider[\"registry.terraform.io/hashicorp/aws\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "arn": "arn:aws:sqs:ap-south-1:397133503208:api-sqs",
            "content_based_deduplication": false,
            "deduplication_scope": "",
            "delay_seconds": 0,
            "fifo_queue": false,
            "fifo_throughput_limit": "",
            "id": "https://sqs.ap-south-1.amazonaws.com/397133503208/api-sqs",
            "kms_data_key_reuse_period_seconds": 300,
            "kms_master_key_id": "",
            "max_message_size": 262144,
            "message_retention_seconds": 345600,
            "name": "api-sqs",
            "name_prefix": "",
            "policy": "",
            "receive_wait_time_seconds": 0,
            "redrive_allow_policy": "",
            "redrive_policy": "",
            "sqs_managed_sse_enabled": false,
            "tags": null,
            "tags_all": {},
            "url": "https://sqs.ap-south-1.amazonaws.com/397133503208/api-sqs",
            "visibility_timeout_seconds": 30
          },
          "sensitive_attributes": [],
          "private": "bnVsbA=="
        }
      ]
    }
  ]
}
